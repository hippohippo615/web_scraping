# PTT 記事クローラー
**Python + BeautifulSoup を使って PTT 掲示板の投稿を取得する**

## 🧩 概要
このプロジェクトは、台湾最大の掲示板サイト **[PTT](https://www.ptt.cc/)** の特定看板（例：NBA）から投稿一覧と本文を自動で取得する **シンプルな Web クローラー** です。

プログラムは以下を自動で行います：
1️⃣ 「18歳以上です」確認ページを自動通過  
2️⃣ 指定看板の投稿一覧を取得  
3️⃣ 各投稿タイトルと URL を抽出  
4️⃣ 投稿本文をダウンロードし、著者・時間・コメントを削除して整形  

## ⚙️ 特徴
✅ `requests.Session()` によりクッキーを維持  
✅ 18歳確認ページを自動通過  
✅ 投稿タイトルと URL を一覧取得  
✅ 投稿本文をクリーンに整形  
✅ `BeautifulSoup` + `lxml` で安定した HTML 解析  

## 🧠 必要ライブラリ
| ライブラリ | 用途 |
|-------------|------|
| `requests` | HTTP リクエスト送信 |
| `beautifulsoup4` | HTML パース |
| `lxml` | 高速 HTML パーサー |

インストール：
```bash
pip install requests beautifulsoup4 lxml
```

## 🪶 使い方
### 1️⃣ 実行
```bash
python ptt_crawler.py
```
### 2️⃣ 出力例
```
✅ セッション初期化完了（18歳認証通過）
✅ NBA 看板を取得、ステータス 200
✅ 20 件の投稿リンクを解析
✅ 記事をダウンロード中...
...
```

## 📘 ファイル構成
```
ptt_crawler.py
```

## 🧩 主な関数
| 関数名 | 内容 |
|---------|------|
| `init_session()` | セッションを作成し、18歳認証を通過 |
| `fetch_board_index(session, board)` | 看板ページを取得 |
| `parse_index(html)` | タイトルと URL を抽出 |
| `fetch_article_content(session, url)` | 投稿本文を取得・整形 |
| `main()` | 全体フローの実行 |

## ⚠️ 注意事項
- 本スクリプトは **公開されている PTT ページのみ** を対象にしています。  
- **教育・研究目的** のみで使用し、サイトの利用規約を遵守してください。

